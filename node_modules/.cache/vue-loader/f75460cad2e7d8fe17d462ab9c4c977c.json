{"remainingRequest":"/Users/zhuyuanbiao/Desktop/travel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhuyuanbiao/Desktop/travel/src/components/city/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhuyuanbiao/Desktop/travel/src/components/city/Search.vue","mtime":1573717620121},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCc2Nyb2xsIGZyb20gJ2JldHRlci1zY3JvbGwnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdTZWFyY2gnLAogICAgcHJvcHM6IHsKICAgICAgICBjaXR5TGlzdDogT2JqZWN0CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBrZXl3b3JkOiAnJywKICAgICAgICAgICAgbGlzdDogW10sCiAgICAgICAgICAgIHRpbWVyOiBudWxsCiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAga2V5d29yZCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMudG1lcikgewogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCF0aGlzLmtleXdvcmQpIHsKICAgICAgICAgICAgICAgIHRoaXMubGlzdCA9IFtdCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmNpdHlMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaXR5TGlzdFtpXS5mb3JFYWNoKCh2YWx1ZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuc3BlbGwuaW5kZXhPZih0aGlzLmtleXdvcmQpID4gLTEgfHwgdmFsdWUubmFtZS5pbmRleE9mKHRoaXMua2V5d29yZCkgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gcmVzdWx0CiAgICAgICAgICAgIH0sIDEwMCkKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIF9jaXR5Q2xpY2soY2l0eSkgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZUNpdHknLCBjaXR5KQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5zY3JvbGwgPSBuZXcgQnNjcm9sbCh0aGlzLiRyZWZzLnNlYXJjaCwgewogICAgICAgICAgICBjbGljazogdHJ1ZQogICAgICAgIH0pCiAgICB9Cn0K"},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/components/city","sourcesContent":["<template>\n    <div class=\"search\">\n        <div><input v-model=\"keyword\" placeholder=\"请输入城市名或拼音\" class=\"search-input\" /></div>\n        <div class=\"search-content\" ref=\"search\" v-show=\"keyword\">\n            <ul>\n                <li class=\"search-item\" v-for=\"i of list\"\n                    :key=\"i.name\"\n                    @click=\"_cityClick(i.name)\"\n                    >{{i.name}}</li>\n                <li v-show=\"!this.list.length\">没有搜索到匹配的城市</li>\n            </ul>\n        </div>\n    </div>\n</template>\n<script>\n    import Bscroll from 'better-scroll'\n    export default {\n        name: 'Search',\n        props: {\n            cityList: Object\n        },\n        data() {\n            return {\n                keyword: '',\n                list: [],\n                timer: null\n            }\n        },\n        watch: {\n            keyword() {\n                if (this.tmer) {\n                    clearTimeout(this.timer)\n                }\n                if (!this.keyword) {\n                    this.list = []\n                    return\n                }\n                this.timer = setTimeout(() => {\n                    const result = []\n                    for (let i in this.cityList) {\n                        this.cityList[i].forEach((value) => {\n                            if (value.spell.indexOf(this.keyword) > -1 || value.name.indexOf(this.keyword) > -1) {\n                                result.push(value)\n                            }\n                        })\n                    }\n                    this.list = result\n                }, 100)\n            }\n        },\n        methods: {\n            _cityClick(city) {\n                this.$store.commit('changeCity', city)\n                this.$router.push('/')\n            }\n        },\n        mounted() {\n            this.scroll = new Bscroll(this.$refs.search, {\n                click: true\n            })\n        }\n    }\n</script>\n<style scoped>\n    .search-item {\n        padding: .26rem .20rem;\n        border-bottom: .01rem solid #eee;\n    }\n    \n    .search {\n        padding: 0 .2rem;\n        background: #00bcd4;\n        padding-bottom: .2rem;\n    }\n    \n    .search-input {\n        height: 1.3rem;\n        overflow: hidden;\n        width: 98.2%;\n        text-align: center;\n        color: #666;\n        outline: none;\n    }\n    \n    .search-content {\n        overflow: hidden;\n        z-index: 1000;\n        background: #fff;\n        position: absolute;\n        top: 3.8rem;\n        bottom: 0;\n        left: 0;\n        right: 0;\n    }\n</style>"]}]}