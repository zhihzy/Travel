{"remainingRequest":"/Users/zhuyuanbiao/Desktop/travel/node_modules/babel-loader/lib/index.js!/Users/zhuyuanbiao/Desktop/travel/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/zhuyuanbiao/Desktop/travel/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhuyuanbiao/Desktop/travel/src/components/city/Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhuyuanbiao/Desktop/travel/src/components/city/Search.vue","mtime":1573717620121},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhuyuanbiao/Desktop/travel/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJzY3JvbGwgZnJvbSAnYmV0dGVyLXNjcm9sbCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2VhcmNoJywKICBwcm9wczogewogICAgY2l0eUxpc3Q6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleXdvcmQ6ICcnLAogICAgICBsaXN0OiBbXSwKICAgICAgdGltZXI6IG51bGwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAga2V5d29yZDogZnVuY3Rpb24ga2V5d29yZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnRtZXIpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcik7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5rZXl3b3JkKSB7CiAgICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpIGluIF90aGlzLmNpdHlMaXN0KSB7CiAgICAgICAgICBfdGhpcy5jaXR5TGlzdFtpXS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBpZiAodmFsdWUuc3BlbGwuaW5kZXhPZihfdGhpcy5rZXl3b3JkKSA+IC0xIHx8IHZhbHVlLm5hbWUuaW5kZXhPZihfdGhpcy5rZXl3b3JkKSA+IC0xKSB7CiAgICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmxpc3QgPSByZXN1bHQ7CiAgICAgIH0sIDEwMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBfY2l0eUNsaWNrOiBmdW5jdGlvbiBfY2l0eUNsaWNrKGNpdHkpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VDaXR5JywgY2l0eSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zY3JvbGwgPSBuZXcgQnNjcm9sbCh0aGlzLiRyZWZzLnNlYXJjaCwgewogICAgICBjbGljazogdHJ1ZQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAeA,OAAA,OAAA,MAAA,eAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,KAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,UAAA,KAAA,IAAA,EAAA;AACA,QAAA,YAAA,CAAA,KAAA,KAAA,CAAA;AACA;;AACA,UAAA,CAAA,KAAA,OAAA,EAAA;AACA,aAAA,IAAA,GAAA,EAAA;AACA;AACA;;AACA,WAAA,KAAA,GAAA,UAAA,CAAA,YAAA;AACA,YAAA,MAAA,GAAA,EAAA;;AACA,aAAA,IAAA,CAAA,IAAA,KAAA,CAAA,QAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,CAAA,EAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA,OAAA,IAAA,CAAA,CAAA,IAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,KAAA,CAAA,OAAA,IAAA,CAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA;AACA,WAJA;AAKA;;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,MAAA;AACA,OAVA,EAUA,GAVA,CAAA;AAWA;AApBA,GAZA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,YAAA,EAAA,IAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AAJA,GAlCA;AAwCA,EAAA,OAxCA,qBAwCA;AACA,SAAA,MAAA,GAAA,IAAA,OAAA,CAAA,KAAA,KAAA,CAAA,MAAA,EAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA,CAAA;AAGA;AA5CA,CAAA","sourcesContent":["<template>\n    <div class=\"search\">\n        <div><input v-model=\"keyword\" placeholder=\"请输入城市名或拼音\" class=\"search-input\" /></div>\n        <div class=\"search-content\" ref=\"search\" v-show=\"keyword\">\n            <ul>\n                <li class=\"search-item\" v-for=\"i of list\"\n                    :key=\"i.name\"\n                    @click=\"_cityClick(i.name)\"\n                    >{{i.name}}</li>\n                <li v-show=\"!this.list.length\">没有搜索到匹配的城市</li>\n            </ul>\n        </div>\n    </div>\n</template>\n<script>\n    import Bscroll from 'better-scroll'\n    export default {\n        name: 'Search',\n        props: {\n            cityList: Object\n        },\n        data() {\n            return {\n                keyword: '',\n                list: [],\n                timer: null\n            }\n        },\n        watch: {\n            keyword() {\n                if (this.tmer) {\n                    clearTimeout(this.timer)\n                }\n                if (!this.keyword) {\n                    this.list = []\n                    return\n                }\n                this.timer = setTimeout(() => {\n                    const result = []\n                    for (let i in this.cityList) {\n                        this.cityList[i].forEach((value) => {\n                            if (value.spell.indexOf(this.keyword) > -1 || value.name.indexOf(this.keyword) > -1) {\n                                result.push(value)\n                            }\n                        })\n                    }\n                    this.list = result\n                }, 100)\n            }\n        },\n        methods: {\n            _cityClick(city) {\n                this.$store.commit('changeCity', city)\n                this.$router.push('/')\n            }\n        },\n        mounted() {\n            this.scroll = new Bscroll(this.$refs.search, {\n                click: true\n            })\n        }\n    }\n</script>\n<style scoped>\n    .search-item {\n        padding: .26rem .20rem;\n        border-bottom: .01rem solid #eee;\n    }\n    \n    .search {\n        padding: 0 .2rem;\n        background: #00bcd4;\n        padding-bottom: .2rem;\n    }\n    \n    .search-input {\n        height: 1.3rem;\n        overflow: hidden;\n        width: 98.2%;\n        text-align: center;\n        color: #666;\n        outline: none;\n    }\n    \n    .search-content {\n        overflow: hidden;\n        z-index: 1000;\n        background: #fff;\n        position: absolute;\n        top: 3.8rem;\n        bottom: 0;\n        left: 0;\n        right: 0;\n    }\n</style>"],"sourceRoot":"src/components/city"}]}